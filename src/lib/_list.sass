/**
 * BSD 3-Clause License
 *
 * Copyright Â© 2023, Daniel Jonathan <daniel at cosmicmind dot com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * 3. Neither the name of the copyright holder nor the names of its
 *    contributors may be used to endorse or promote products derived from
 *    this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES LOSS OF USE, DATA, OR PROFITS OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

@use '@/utils/shadow'

@import '@/includes/list'
@import '@/includes/typography'

.m-list
  @extend %m-list

  &.lines-1
    > .m-list-item
      .m-list-item-leading,
      .m-list-item-body,
      .m-list-item-trailing
        align-content: center

  &.lines-2
    > .m-list-item
      .m-list-item-leading,
      .m-list-item-body,
      .m-list-item-trailing
        align-content: center

  &.lines-3
    > .m-list-item
      .m-list-item-leading,
      .m-list-item-body,
      .m-list-item-trailing
        align-content: start

  > .m-list-item
    @extend %m-list-item

    > .m-divider
      @extend %m-list-item-divider

    &:has(.m-video),
    &.has-leading-video
      padding-left: 0

    .m-list-item-leading
      @extend %m-list-item-leading

      > img
        width: 56px
        height: 56px

      > .m-avatar
        width: 40px
        height: 40px

      > .m-video
        width: 114px
        height: 64px

    .m-list-item-body
      @extend %m-list-item-body

      > .m-typography
        &.m-headline
          @extend %m-typography-body-large

        &.m-body
          @extend %m-typography-body-medium

    .m-list-item-trailing
      @extend %m-list-item-trailing

      > .m-typography
        &.m-label
          @extend %m-typography-label-small

      > .m-icon
        font-size: 20px

    &,
    &.enabled
      > .m-divider
        border-color: rgb(var(--md-sys-color-surface-variant))

      .m-list-item-leading
        > .m-icon
          color: rgb(var(--md-sys-color-on-surface-variant))

        > .m-avatar
          > .m-typography
            &.m-label
              background: rgb(var(--md-sys-color-primary-container))
              color: rgb(var(--md-sys-color-on-primary-container))

      .m-list-item-body
        > .m-typography
          &.m-headline
            color: rgb(var(--md-sys-color-on-surface))

          &.m-body
            color: rgb(var(--md-sys-color-on-surface-variant))

      .m-list-item-trailing
        > .m-typography
          &.m-label
            color: rgb(var(--md-sys-color-on-surface-variant))

        > .m-icon
          color: rgb(var(--md-sys-color-on-surface-variant))

    &:not(.is-not-interactive)
      &:hover:not(.enabled):not(.focused):not(.pressed):not(.dragged):not(.disabled),
      &.hovered
        cursor: pointer

        &::before
          background: rgba(var(--md-sys-color-on-surface), 8%)

        .m-list-item-leading
          > .m-icon
            color: rgb(var(--md-sys-color-on-surface-variant))

        .m-list-item-trailing
          > .m-icon
            color: rgb(var(--md-sys-color-on-surface-variant))

      &:focus:not(.enabled):not(.hovered):not(.pressed):not(.dragged):not(.disabled),
      &.focused
        &::before
          background: rgba(var(--md-sys-color-on-surface), 12%)

        .m-list-item-leading
          > .m-icon
            color: rgb(var(--md-sys-color-on-surface-variant))

        .m-list-item-trailing
          > .m-icon
            color: rgb(var(--md-sys-color-on-surface-variant))

      &:active:not(.enabled):not(.hovered):not(.focused):not(.dragged):not(.disabled),
      &.pressed
        &::before
          background: rgba(var(--md-sys-color-on-surface), 12%)

        .m-list-item-leading
          > .m-icon
            color: rgb(var(--md-sys-color-on-surface-variant))

        .m-list-item-trailing
          > .m-icon
            color: rgb(var(--md-sys-color-on-surface-variant))

      &.dragged:not(.enabled):not(.hovered):not(.focused):not(.pressed):not(.disabled)
        box-shadow: shadow.high()

        &::before
          background: rgba(var(--md-sys-color-on-surface), 16%)

        .m-list-item-leading
          > .m-icon
            color: rgb(var(--md-sys-color-on-surface-variant))

        .m-list-item-trailing
          > .m-icon
            color: rgb(var(--md-sys-color-on-surface-variant))

    &:disabled:not(.hovered):not(.focused):not(.pressed):not(.dragged),
    &[disabled]:not(.hovered):not(.focused):not(.pressed):not(.dragged),
    &.disabled:not(.hovered):not(.focused):not(.pressed:not(.dragged))
      cursor: not-allowed
      pointer-events: all !important
      box-shadow: shadow.none()
      opacity: 38%

      &::before
        background: rgba(var(--md-sys-color-on-surface), 12%)

      .m-list-item-leading
        > .m-icon
          color: rgba(var(--md-sys-color-on-surface), 38%)

      .m-list-item-body
        > .m-typography
          &.m-headline
            color: rgba(var(--md-sys-color-on-surface), 38%)

          &.m-body
            color: rgba(var(--md-sys-color-on-surface), 38%)

      .m-list-item-trailing
        > .m-typography
          &.m-label
            color: rgba(var(--md-sys-color-on-surface), 38%)

        > .m-icon
          color: rgba(var(--md-sys-color-on-surface), 38%)